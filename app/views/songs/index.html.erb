<% provide :title, 'All Songs' %>

<h1>Listing Songs</h1>

<%= form_tag(new_song_path, method: 'get') do %>
  <%= submit_tag 'New Song' %>
  <%= label_tag :template_id, 'Template (opt.)' %>
  <%= select_tag :template_id, options_from_collection_for_select(
    SongTemplate.order(:name).collect, 'id', 'name'), { include_blank: true } %>
<% end %>

<table>
  <thead>
    <tr>
      <th>Title</th>
      <th>Label</th>
      <th>Publisher</th>
      <th>Serial</th>
      <th>Details</th>
      <th>Notes perf</th>
      <th>Notes lib</th>
      <th>Pack</th>
      <th>Recording</th>
      <th>Style</th>
      <th>Duration</th>
      <th>Tempo</th>
      <th>Purchased at</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @songs.each do |song| %>
      <tr>
        <td><%= song.title %></td>
        <td><%= song.label %></td>
        <td><%= song.publisher %></td>
        <td><%= song.serial %></td>
        <td><%= song.details %></td>
        <td><%= song.notes_perf %></td>
        <td><%= song.notes_lib %></td>
        <td><%= song.pack %></td>
        <td><%= song.recording %></td>
        <td><%= song.style %></td>
        <td class="text-right"><%= song.duration_string %></td>
        <td><%= song.tempo %></td>
        <td><%= song.purchased_at %></td>
        <%= render 'shared/index_actions', resource: song %>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<% provide :title, 'Song Packs' %>
<p id="notice"><%= notice %></p>

<h1>All Song Packs</h1>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Publisher</th>
      <th>Serial</th>
      <th>Contributors</th>
      <th>Songs</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @packs.each do |pack| %>
      <tr>
        <td><%= pack.name %></td>
        <td><%= link_to pack.publisher.name, pack.publisher %></td>
        <td><%= pack.serial %></td>
        <td>
          <ul class="table-list">
            <% pack.contributor_relations.each do |contrib| %>
              <li><%= contrib.full_text %></li>
            <% end %>
          </ul>
        </td>
        <td>
          <ul class="table-list">
            <% pack.songs.each do |song| %>
              <li><%= link_to song, song.title %></li>
            <% end %>
          </ul>
        </td>
        <%= render 'shared/index_actions', resource: pack %>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Pack', new_pack_path %>
